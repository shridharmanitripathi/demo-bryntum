{"ast":null,"code":"/**\n * Unplanned grid component\n *\n * Taken from the vanilla dragfromgrid example\n */\n// we import scheduler.umd for IE11 compatibility only. If you don't use IE import:\n// import { Grid } from 'bryntum-scheduler';\nimport { Grid } from './../../node_modules/bryntum-scheduler/scheduler.umd.js';\nexport default class UnplannedGrid extends Grid {\n  /**\n   * Original class name getter. See Widget.$name docs for the details.\n   * @return {string}\n   */\n  static get $name() {\n    return 'UnplannedGrid';\n  }\n\n  static get defaultConfig() {\n    return {\n      features: {\n        stripe: true\n      },\n      columns: [{\n        text: 'Unassigned tasks',\n        flex: 1,\n        field: 'name',\n        htmlEncode: false,\n        renderer: data => `<i class=\"${data.record.iconCls}\"></i>${data.record.name}`\n      }, {\n        text: 'Duration',\n        width: 100,\n        align: 'right',\n        editor: false,\n        field: 'duration',\n        renderer: data => `${data.record.duration} ${data.record.durationUnit}`\n      }],\n      rowHeight: 50\n    };\n  }\n\n  construct(config) {\n    super.construct(config);\n    this.eventStore.on({\n      // When a task is updated, check if it was unassigned and if so - move it back to the unplanned tasks grid\n      update: ({\n        record,\n        changes\n      }) => {\n        if ('resourceId' in changes && !record.resourceId) {\n          this.eventStore.remove(record);\n          this.store.add(record);\n        }\n      },\n      thisObj: this\n    });\n  }\n\n}\n;","map":{"version":3,"sources":["/home/otpl/sites/bryntum-demo/src/lib/UnplannedGrid.js"],"names":["Grid","UnplannedGrid","$name","defaultConfig","features","stripe","columns","text","flex","field","htmlEncode","renderer","data","record","iconCls","name","width","align","editor","duration","durationUnit","rowHeight","construct","config","eventStore","on","update","changes","resourceId","remove","store","add","thisObj"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,IAAT,QAAqB,yDAArB;AAEA,eAAe,MAAMC,aAAN,SAA4BD,IAA5B,CAAiC;AAE5C;AACJ;AACA;AACA;AACoB,aAALE,KAAK,GAAG;AACf,WAAO,eAAP;AACH;;AAEuB,aAAbC,aAAa,GAAG;AACvB,WAAO;AACHC,MAAAA,QAAQ,EAAG;AACPC,QAAAA,MAAM,EAAG;AADF,OADR;AAKHC,MAAAA,OAAO,EAAG,CAAC;AACPC,QAAAA,IAAI,EAAS,kBADN;AAEPC,QAAAA,IAAI,EAAS,CAFN;AAGPC,QAAAA,KAAK,EAAQ,MAHN;AAIPC,QAAAA,UAAU,EAAG,KAJN;AAKPC,QAAAA,QAAQ,EAAMC,IAAD,IAAW,aAAYA,IAAI,CAACC,MAAL,CAAYC,OAAQ,SAAQF,IAAI,CAACC,MAAL,CAAYE,IAAK;AAL1E,OAAD,EAOR;AACER,QAAAA,IAAI,EAAO,UADb;AAEES,QAAAA,KAAK,EAAM,GAFb;AAGEC,QAAAA,KAAK,EAAM,OAHb;AAIEC,QAAAA,MAAM,EAAK,KAJb;AAKET,QAAAA,KAAK,EAAM,UALb;AAMEE,QAAAA,QAAQ,EAAIC,IAAD,IAAW,GAAEA,IAAI,CAACC,MAAL,CAAYM,QAAS,IAAGP,IAAI,CAACC,MAAL,CAAYO,YAAa;AAN3E,OAPQ,CALP;AAsBHC,MAAAA,SAAS,EAAG;AAtBT,KAAP;AAwBH;;AAEDC,EAAAA,SAAS,CAACC,MAAD,EAAS;AACd,UAAMD,SAAN,CAAgBC,MAAhB;AAEA,SAAKC,UAAL,CAAgBC,EAAhB,CAAmB;AACf;AACAC,MAAAA,MAAM,EAAI,CAAC;AAAEb,QAAAA,MAAF;AAAUc,QAAAA;AAAV,OAAD,KAAyB;AAC/B,YAAI,gBAAgBA,OAAhB,IAA2B,CAACd,MAAM,CAACe,UAAvC,EAAmD;AAC/C,eAAKJ,UAAL,CAAgBK,MAAhB,CAAuBhB,MAAvB;AACA,eAAKiB,KAAL,CAAWC,GAAX,CAAelB,MAAf;AACH;AACJ,OAPc;AAQfmB,MAAAA,OAAO,EAAG;AARK,KAAnB;AAUH;;AAlD2C;AAmD/C","sourcesContent":["/**\n * Unplanned grid component\n *\n * Taken from the vanilla dragfromgrid example\n */\n// we import scheduler.umd for IE11 compatibility only. If you don't use IE import:\n// import { Grid } from 'bryntum-scheduler';\nimport { Grid } from './../../node_modules/bryntum-scheduler/scheduler.umd.js';\n\nexport default class UnplannedGrid extends Grid {\n\n    /**\n     * Original class name getter. See Widget.$name docs for the details.\n     * @return {string}\n     */\n    static get $name() {\n        return 'UnplannedGrid';\n    }\n\n    static get defaultConfig() {\n        return {\n            features : {\n                stripe : true,\n            },\n\n            columns : [{\n                text       : 'Unassigned tasks',\n                flex       : 1,\n                field      : 'name',\n                htmlEncode : false,\n                renderer   : (data) => `<i class=\"${data.record.iconCls}\"></i>${data.record.name}`\n            }\n            , {\n                text     : 'Duration',\n                width    : 100,\n                align    : 'right',\n                editor   : false,\n                field    : 'duration',\n                renderer : (data) => `${data.record.duration} ${data.record.durationUnit}`\n            }\n        ],\n\n            rowHeight : 50\n        };\n    }\n\n    construct(config) {\n        super.construct(config);\n\n        this.eventStore.on({\n            // When a task is updated, check if it was unassigned and if so - move it back to the unplanned tasks grid\n            update  : ({ record, changes }) => {\n                if ('resourceId' in changes && !record.resourceId) {\n                    this.eventStore.remove(record);\n                    this.store.add(record);\n                }\n            },\n            thisObj : this\n        });\n    }\n};\n"]},"metadata":{},"sourceType":"module"}